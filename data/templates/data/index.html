{% extends "search_base.html" %}
{% load media %}

{% block body_class %}tdata{% endblock %}

{% block main %}
    <div id="fullColumn">
        <p id="intro">
    	    Transparency Data is a central source for <b>federal lobbying disclosure</b>, <b>federal grants and contracts</b>, <b>earmarks</b> and <b>federal and state campaign contributions</b>.
    	    Here you can begin your search, find the information you need, and then download records of what a <b>candidate</b> has received, what an <b>individual</b> has given, how much an <b>organization</b> has spent on lobbying, and many other queries.
    	</p>
		<ul id="dataTabs">
			<li class="active"><a href="/contributions/">Campaign Contributions</a></li>
			<li><a href="/earmarks/">Earmarks</a></li>
			<li><a href="/lobbying/">Lobbying</a></li>
			<li><a href="/grants/" class="grants">Grants</a></li>
			<li><a href="/contracts/" class="contracts">Contracts</a></li>
            <li>
                <a href="/contractor_misconduct/">Contractor Misconduct</a>
                
            </li>
		</ul>
		<div class="clear"></div>
		<ul id="mainSearchFilter">
		    <li id="intro-contributions">
        		<h3>Search Campaign Contributions</h3>
        		<div class="leftIntro">
    				<form id="contributionDataFilter" class="datafilter">
    				    <fieldset>
    				        <span class="tip tipHeight">Have a specific committee, recipient or date in mind? Add some filters below to search them</span>
        				    <label class="mainLabel">Filter</label>
        					<select id="filterselect">
        						<option value="">Select a category to narrow your search...</option>
        					</select>
        				</fieldset>
    					<ul id="filters"></ul> <!-- end filters -->
    				</form>
        		</div>
        		<div class="rightIntro">
        			<span class="tip tipHeight">Once you're done adding filters press the button below to view the sorted data.</span>
        			<a id="contributionPreviewButton" class="previewButton linkBtn" href="#">Preview Data</a>
        		</div>
            </li>
            <li style="visibility: hidden;" id="intro-earmarks">
                <h3>Search Earmarks</h3>
		        <div class="leftIntro">
        			<span class="tip tipHeight">Have a specific member of congress, state or bill? Add some filters below to search them</span>
        			<form id="earmarksDataFilter" class="datafilter">
        			    <fieldset>
            			    <label class="mainLabel">Search for</label>
            				<select id="filterselect">
            					<option value="">Select a field to search...</option>
            				</select>
        				</fieldset>
        				<ul id="filters"></ul> <!-- end filters -->
        			</form>
        		</div>
        		<div class="rightIntro">
        			<span class="tip tipHeight">Once you're done adding filters press the button below to view the sorted data.</span>
        			<a id="earmarksPreviewButton" class="previewButton linkBtn" href="#">Preview Data</a>
        		</div>
            </li>
            <li style="visibility: hidden;" id="intro-lobbying">
        		<h3>Search Federal Lobbying</h3>
        		<div id="leftIntro">
        			<form  id="lobbyingDataFilter" class="datafilter">
        			    <fieldset>
        			        <span class="tip tipHeight">Have a specific organization or issue in mind? Add some filters below to search them</span>
            			    <label class="mainLabel">Search for</label>
            				<select id="filterselect">
            					<option value="">Select a field to search...</option>
            				</select>
        				</fieldset>
        				<ul id="filters"></ul> <!-- end filters -->
        			</form>
        		</div>
        		<div id="rightIntro">
        			<span class="tip tipHeight">Once you're done adding filters press the button below to view the sorted data.</span>
        			<a id="lobbyingPreviewButton" class="previewButton linkBtn" href="#">Preview Data</a>
        		</div>
        	</li>
        	<li style="visibility: hidden;" id="intro-grants">
        		<h3>Search Federal Grants</h3>
        		<div id="leftIntro">
        			<form id="grantsDataFilter" class="datafilter"> 
        			    <fieldset>
        			        <span class="tip tipHeight">Have a specific organization or agency in mind? Add some filters below to search them</span>
            			    <label class="mainLabel">Search for</label>
            				<select id="filterselect">
            					<option value="">Select a field to search...</option>
            				</select>
        				</fieldset>
        				<ul id="filters"></ul> <!-- end filters -->
        			</form>
        		</div>
        		<div id="rightIntro">
        			<span class="tip tipHeight">Once you're done adding filters press the button below to view the sorted data.</span>
        			<a id="grantsPreviewButton" class="previewButton linkBtn" href="#">Preview Data</a>
        		</div>
        	</li>
        	<li style="visibility: hidden;" id="intro-contracts">
        		<h3>Search Federal Contracts</h3>
        		<div id="leftIntro">
        			<form id="contractsDataFilter" class="datafilter">
        			    <fieldset>
        			        <span class="tip tipHeight">Have a specific organization or agency in mind? Add some filters below to search them</span>
            			    <label class="mainLabel">Search for</label>
            				<select id="filterselect">
            					<option value="">Select a field to search...</option>
            				</select>
            			</fieldset>
        				<ul id="filters"></ul> <!-- end filters -->
        			</form>
        		</div>
        		<div id="rightIntro">
        			<span class="tip tipHeight">Once you're done adding filters press the button below to view the sorted data.</span>
        			<a id="contractsPreviewButton" class="previewButton linkBtn" href="#">Preview Data</a>
        		</div>
        	</li>
        	<li style="visibility: hidden;" id="intro-contractor-misconduct">
        		<h3>Search Contractor Misconduct</h3>
        		<div id="leftIntro">
        			<form id="contractorMisconductDataFilter" class="datafilter">
        			    <fieldset>
            			    <span class="tip tipHeight">Have a specific contractor, contracting party or enforcement agency in mind? Add some filters below to search them</span>
            			    <label class="mainLabel">Search for</label>
            				<select id="filterselect">
            					<option value="">Select a field to search...</option>
            				</select>
            			</fieldset>
        				<ul id="filters"></ul> <!-- end filters -->
        			</form>
        		</div>
        		<div id="rightIntro">
        			<span class="tip tipHeight">Once you're done adding filters press the button below to view the sorted data.</span>
        			<a id="contractorMisconductPreviewButton" class="previewButton linkBtn" href="#">Preview Data</a>
        		</div>
        	</li>
	    </ul>
	</div>
    {% js "data/3rdparty.js" %}
    {% js "data/index.js" %}
	<script type="text/javascript">

		$().ready(function() {
			$('#dataTabs li a').bind('click', function() {
				var df = $(this).attr('class');
				$('body').attr('id', df);
				TD.HashMonitor.setAnchor('');
				if (df == 'contributions') {
					TD.activeFilter = TD.ContributionFilter;
				} else if (df =='earmarks') {
					TD.activeFilter = TD.EarmarksFilter;
				} else if (df == 'lobbying') {
					TD.activeFilter = TD.LobbyingFilter;
				} else if (df == 'grants') {
					TD.activeFilter = TD.GrantsFilter;
				} else if (df == 'contracts') {
					TD.activeFilter = TD.ContractsFilter;
				} else if (df == 'contractorMisconduct') {
					TD.activeFilter = TD.ContractorMisconductFilter;
				}
				return false;
			});

			TD.LobbyingFilter.bindDataFilter('#lobbyingDataFilter');
			TD.LobbyingFilter.bindPreview('#lobbyingPreviewButton');
		    TD.LobbyingFilter.init();

			TD.HashMonitor.setAnchor('');

			TD.EarmarksFilter.bindDataFilter('#earmarksDataFilter');
			TD.EarmarksFilter.bindPreview('#earmarksPreviewButton');
		    TD.EarmarksFilter.init();

			TD.HashMonitor.setAnchor('');

			TD.GrantsFilter.bindDataFilter('#grantsDataFilter');
			TD.GrantsFilter.bindPreview('#grantsPreviewButton');
		    TD.GrantsFilter.init();

			TD.HashMonitor.setAnchor('');

			TD.ContractsFilter.bindDataFilter('#contractsDataFilter');
			TD.ContractsFilter.bindPreview('#contractsPreviewButton');
		    TD.ContractsFilter.init();

			TD.HashMonitor.setAnchor('');

			TD.ContributionFilter.bindDataFilter('#contributionDataFilter');
			TD.ContributionFilter.bindPreview('#contributionPreviewButton');
		    TD.ContributionFilter.init();

			TD.HashMonitor.setAnchor('');

			TD.ContractorMisconductFilter.bindDataFilter('#contractorMisconductDataFilter');
			TD.ContractorMisconductFilter.bindPreview('#contractorMisconductPreviewButton');
		    TD.ContractorMisconductFilter.init();

			TD.HashMonitor.setAnchor('');

		    TD.activeFilter = TD.ContributionFilter;

			TD.init();

		});

	</script>
{% endblock %}
