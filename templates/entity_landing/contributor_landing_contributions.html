{% load humanize %}
{% load influence_extras %}

<div class="overviewBar withNav withTip">
    <h3>Campaign Finance</h3>
    <span class="amount">${{ section.total_contribution_amount|floatformat:0|intcomma }} GIVEN</span>
    <div  class="interiorMethodology">
        <a class="descriptor" title="More Information" href="#contributionsDescriptor">Information</a>
        <div class="clear"></div>      
        <div class="descriptorText" id='contributionsDescriptor'>
            <p>FIXME: put some descriptive text here.</p>
            <p>For more information, see our <a href="/about/methodology/contributions/">Campaign Finance Methodology</a> page.</p>
        </div>
    </div>
    <div class="clear"></div>
</div>

<div class="chartModule withNav">
    <script type="text/javascript" charset="utf-8">
    $(document).ready(function() {
      {% if not sections.contributions.suppress_contrib_graphs %}
      Brisket.party_twopane_pie("partyTwopanePie", {% if section.party_summary_data %}{{ section.party_summary_data|safe }}{% else %}{}{% endif %});
      //Brisket.recipient_type_twopane_pie("recipientTypeGroupTwopanePie", {% if section.recipient_type_summary_data %}{{ section.recipient_type_summary_data|safe }}{% else %}{}{% endif %});
      Brisket.state_fed_twopane_pie("stateFedTwopanePie", {% if section.state_fed_summary_data %}{{ section.state_fed_summary_data|safe }}{% else %}{}{% endif %});
      Brisket.in_state_out_of_state_twopane_pie("inStateOutOfStateTwopanePie", {% if section.in_state_out_of_state_summary_data %}{{ section.in_state_out_of_state_summary_data|safe }}{% else %}{}{% endif %});
      {% endif %}

      //$('table#grantsContracts td').multiellipsis(3);
      //$('td.cell-earmark-description .earmark_mainDescription').multiellipsis(3);
      //$('table td.cell-earmark-description').expando(4, '.earmark-requests', 'li.requestedList', 'moreEarmarks');
    });
    </script>
    <span class="tip external">covers roughly through Q4 2012</span>
    
    <div class="threeColumn mainTable">
       <div class="electionHeader">
          <h4 class="withTip">Contributions from Individuals by Recipient Party</h4>
          <span class="tip external">Ranked by total amount contributed</span>
       </div>
        <div id="partyTwopanePie" class="twopanePie"></div>
       <div class="electionHeader">
          <h4 class="withTip">Contributions from Individuals in State and Federal Races</h4>
          <span class="tip external">Ranked by total amount contributed</span>
       </div>
        <div id="stateFedTwopanePie" class="twopanePie"></div>
       <div class="electionHeader">
          <h4 class="withTip">Contributions from Individuals to In-State and Out-Of-State Candidates</h4>
          <span class="tip external">Ranked by total amount contributed</span>
       </div>
        <div id="inStateOutOfStateTwopanePie" class="twopanePie"></div>
    </div>
</div>
