{% load humanize %}
{% load influence_extras %}

<div class="twoColumn chartWrapper">
  <div class="chart">
    {% if section.candidates_barchart_data %}
    <h4 class="withTip">Top Politicians</h4>
    <div class="graph" id="recipients_barchart">
      <!-- raphael charts here -->
    </div>
    {% endif %}
  </div>
</div>

<div class="oneColumn chartWrapper">
  <div class="chart">
    <h4 class="withTip">Republicans vs. Democrats</h4>
    <span class="tip">in dollars</span>
    <div class="graph piechart" id="piechart_party">
      <!-- raphael charts here -->
    </div>
  </div>
</div>

<div class="clear"></div> <!-- start a new row -->

{% if section.orgs_barchart_data and section.orgs_barchart_data != "[]" %}
<div class="twoColumn chartWrapper">
  <div class="chart">
    {% if section.orgs_barchart_data %}
    <h4 class="withTip">Top Organizations</h4>
    <div class="graph" id="orgs_barchart">
      <!-- raphael charts here -->
    </div>
    {% endif %}
  </div>
</div>

<div class="clear"></div> <!-- start a new row -->

{% if section.bundling_data %}
  <div class="twoColumn chartWrapper">
    <h4 class="withTip">Top Bundled Contributions</h4>
    <table class="twoColumn">
        <thead>
            <tr>
                <th>Recipient</th>
                <th>Amount</th>
            </tr>
        </thead>
        <tbody>
        {% for recipient_entity, recipient_name, amount in section.bundling_data %}
        <tr class="{% cycle 'even' 'odd' %}">
            <td>
                <a href="/individual/{{recipient_name|slugify}}/{{recipient_entity}}">{{ recipient_name|standardize_politician_name }}</a>
            </td>
            <td>${{ amount|floatformat:0|intcomma }}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
  </div>
{% endif %}

<div class="clear"></div> <!-- start a new row -->
{% endif %}
