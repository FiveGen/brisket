{% extends "search_base.html" %}
{% load humanize %}

{% block main %}

<div id="contentHeader">
  {% if not sorted_results %}
  <h2>No results for that search</h2>
  {% else %}
  <h2>Results for &#8220;{{ query|title }}&#8221;</h2>
</div>

<div class="module">
  
  {% if num_orgs %}
  <div class="searchBox">
    <h3>Matching Organizations</h3>
    <span class="results">{{ num_orgs }} Result{{num_orgs|pluralize}}</span>
    <ul>
      {% for result_pair in sorted_results.organization %}
      <li class="{% cycle 'even' 'odd' %}">
          <a href="/{{ result_pair.0.type }}/{{result_pair.0.name|slugify }}/{{ result_pair.0.id }}?cycle={{cycle}}">{{result_pair.0.name}}</a> 
          <span class="transactions" title="Results">
	    {{result_pair.0.count_given }} 
	    transaction{{result_pair.0.count_given|pluralize }} </span>
          <span class="amountGiven">${{ result_pair.0.total_given|intcomma }} Given</span>
          <div class="clear"></div>
      </li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}


  {% if num_indivs %}
  <div class="searchBox clear">    
    <h3>Matching People</h3>
    <span class="results">{{ num_indivs }} Result{{num_indivs|pluralize}}</span>  
    <ul>  
        {% for result_pair in sorted_results.individual %}
        <li class="{% cycle 'even' 'odd' %}">
            <a href="/{{ result_pair.0.type }}/{{ result_pair.0.name|slugify }}/{{ result_pair.0.id }}?cycle={{cycle}}">{{result_pair.0.name}}</a>
            <span class="transactions" title="Results"> 
	      {{ result_pair.0.count_given }}
	      transaction{{result_pair.0.count_given|pluralize }} </span>
            <span class="amountGiven">${{ result_pair.0.total_given|intcomma }} Given</span>
            <div class="clear"></div>
        </li>
        {% endfor %}
    </ul>
  </div>
  {% endif %}


  {% if num_pols %}
  <div class="searchBox clear">
      <h3>Matching Politicians</h3>
      <span class="results">{{ num_pols }} Result{{num_pols|pluralize}}</span>    
      <table class="threeColumn clear">
          <thead>
              <tr id="titles">
                  <th class="left">Incumbant</th>
                  <th class="center">Politician</th>
                  <th class="center">State</th>
                  <th class="center">Position</th>
                  <th class="center">Office</th>
                  <th class="center">Party</th>
                  <th class="center">Total Received</th>
                  <th class="right">Records</th>
              </tr>
          </thead>
          <tbody>	
              {% for result in sorted_results.politician %}
              <tr class="{% cycle 'even' 'odd' %}">
                  <td title="Not An Incumbant" class="incumbant_check incumbant_no">Not An Incumbant</td>
                  <td class="center lawmakerName">
                      <a href="/{{ result.type }}/{{ result.name|slugify }}/{{ result.id }}?cycle={{cycle}}">{{result.name}}</a> 
                  </td>
                  <td class="center">XX</td>
                  <td class="center">XX</td>
                  <td class="center">??????</td>
                  <td class="center">???</td>
                  <td class="center">${{result.total_received|intcomma }}</td>
                  <td class="right">{{ result.count_received }}</td>	  
                  {% endfor %}
              </tr>
          </tbody>
      </table>
  </div>  
  <div class="twoColumn chartWrapper">  
    <div class="clear">
    </div>
  </div>
  {% endif %}

</div>

{% endif %}

{% endblock %}
